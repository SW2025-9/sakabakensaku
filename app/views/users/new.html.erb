<style>
  .form-container {
    width: 500px;
    margin: 40px auto;
  }

  .custom-form {
    display: flex;
    flex-direction: column;
    gap: 25px;
  }

  .form-group {
    display: flex;
    align-items: center;
    justify-content: space-between;
  }

  .form-label {
    width: 150px;
    font-size: 16px;
  }

  .form-input {
    width: 300px;
    padding: 8px;
    border: 1px solid #aaa;
    border-radius: 4px;
  }

  .form-submit {
    text-align: center;
  }

  .submit-btn {
    width: 150px;
    padding: 10px;
    border: 1px solid #555;
    background: white;
    cursor: pointer;
    font-size: 16px;
  }
</style>

<div class="form-container">
  <h2>新規登録</h2>

  <%# model: @users を @user に変更 %>
  <%= form_with model: @user, class: "custom-form" do |f| %>
  
    <% if @user.errors.any? %>
      <div class="error-messages" style="color: red; background: #ffebeb; padding: 10px; border: 1px solid #ffcccc; border-radius: 4px; margin-bottom: 20px;">
        <h3 style="font-size: 1rem; margin-top: 0;"><%= @user.errors.count %>件のエラーがあります:</h3>
        <ul style="margin-bottom: 0;">
          <% @user.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <div class="form-group">
      <%= f.label :uid, 'ユーザ名', class: "form-label" %>
      <%= f.text_field :uid, class: "form-input" %>
    </div>

    <div class="form-group">
      <%= f.label :password, 'パスワード', class: "form-label" %>
      <%= f.password_field :password, class: "form-input" %>
    </div>

    <div class="form-group">
      <%= f.label :city, '所在地（市区町村まで）', class: "form-label" %>
      <%= f.text_field :city, class: "form-input" %>
    </div>

    <div class="form-submit">
      <%= f.submit '登録', class: "submit-btn" %>
    </div>

  <% end %>
</div>

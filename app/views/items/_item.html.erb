<div style="display:flex; gap:18px; align-items:flex-start; margin-bottom: 20px;">
  <%# --- Â∑¶: „Çµ„É†„ÉçÔºàÂõ∫ÂÆöÊØîÁéá„ÅÆÁÆ±Ôºâ --- %>
  <div style="width:360px; height:160px; background:#eee; display:flex; align-items:center; justify-content:center; border:1px solid #ddd;">
    <% if item.image.attached? %>
      <%= image_tag item.image.variant(resize_to_limit: [350, 150]) %>
    <% else %>
      <span style="color:#999;">ÁîªÂÉè</span>
    <% end %>
  </div>

  <%# --- Âè≥: ÊÉÖÂ†±„Ç®„É™„Ç¢ --- %>
  <div style="flex:1; display:flex; flex-direction:column; gap:8px;">
    
    <%# ‚ë† „ÄêËøΩÂä†„ÄëÂïÜÂìÅÂêç„ÇíË°®Á§∫ %>
    <div>
      <h3 style="margin: 0; font-size: 1.2rem; font-weight: bold;"><%= item.name %></h3>
    </div>

    <div style="display:flex; align-items:center; gap:8px; flex-wrap: wrap;">
      <%# ÈÖíÂ±ãÂêç %>
      <strong style="background:#fff; border:1px solid #bbb; padding:6px 10px; border-radius:3px; font-size: 0.9rem;">
        <%= item.shop&.name || "ÈÖíÂ±ã„ÅÆÂêçÂâç" %>
      </strong>

      <%# „ÅÑ„ÅÑ„Å≠„Éú„Çø„É≥„Ç®„É™„Ç¢ %>
      <div style="display: inline-block;">
        <% if current_user %>
          <% if current_user.already_liked?(item) %>
            <%= link_to item_likes_path(item), data: { turbo_method: :delete }, style: "text-decoration: none;" do %>
              <button style="border:1px solid #bbb; padding:6px 10px; background:#ffebeb; cursor:pointer;">
                „ÅÑ„ÅÑ„Å≠Ëß£Èô§ ‚ù§Ô∏è <%= item.likes.reload.count %>
              </button>
            <% end %>
          <% else %>
            <%= link_to item_likes_path(item), data: { turbo_method: :post }, style: "text-decoration: none;" do %>
              <button style="border:1px solid #bbb; padding:6px 10px; background:#fff; cursor:pointer;">
                „ÅÑ„ÅÑ„Å≠ üëç <%= item.likes.reload.count %>
              </button>
            <% end %>
          <% end %>
        <% else %>
          <button style="border:1px solid #bbb; padding:6px 10px; background:#eee; color:#999;" disabled>
            „ÅÑ„ÅÑ„Å≠ üëç <%= item.likes.reload.count %>
          </button>
        <% end %>
      </div>

      <%# ‚ë° „ÄêËøΩÂä†„ÄëÁ∑®ÈõÜ„ÉªÂâäÈô§„Éú„Çø„É≥Ôºà„É≠„Ç∞„Ç§„É≥ÊôÇ„ÅÆ„ÅøÔºâ %>
      <% if current_user %>
        <%# „Éá„Ç∂„Ç§„É≥„ÅØÂâç„ÅÆCSS(class="edit-btn")„Åå„ÅÇ„Çå„Å∞„Åù„Çå„ÇíÈÅ©Áî®„Åó„Å§„Å§„ÄÅ„Ç§„É≥„É©„Ç§„É≥„Çπ„Çø„Ç§„É´„ÅßÂæÆË™øÊï¥„Åó„Å¶„ÅÑ„Åæ„Åô %>
        <div style="display:flex; gap:5px;">
           <%= link_to 'Á∑®ÈõÜ', edit_item_path(item), class: "edit-btn", style: "text-decoration:none; padding:6px 10px; border:1px solid #ccc; background:#f9f9f9; color:#333; border-radius:3px;" %>
           
           <%= link_to 'ÂâäÈô§', item_path(item), 
               data: { turbo_method: :delete, turbo_confirm: "Êú¨ÂΩì„Å´ÂâäÈô§„Åó„Åæ„Åô„ÅãÔºü" }, 
               class: "edit-btn is-delete", 
               style: "text-decoration:none; padding:6px 10px; border:1px solid #d9534f; background:#d9534f; color:#fff; border-radius:3px;" %>
        </div>
      <% end %>
    </div>

    <%# Ë©≥Á¥∞„ÉÜ„Ç≠„Çπ„ÉàÔºàÊó¢Â≠ò„ÅÆ„ÇÇ„ÅÆÔºâ %>
    <div style="width:100%; border:1px solid #ddd; padding:12px; box-sizing:border-box; background:#fff;">
      <div style="color:#555; min-height:36px;">
          <%= truncate(item.detail.to_s, length: 200) %>
      </div>
    </div>

    <%# ‚ë¢ „ÄêËøΩÂä†„Äë„É¨„Éì„É•„Éº„Éú„Çø„É≥ÔºàË©≥Á¥∞„Éö„Éº„Ç∏„Å∏Ôºâ %>
    <div>
      <%= link_to item_path(item), style: "text-decoration: none;" do %>
        <button style="width: 100%; padding: 10px; background-color: #f0f0f0; border: 1px solid #ccc; border-radius: 4px; cursor: pointer; font-weight: bold; color: #333;">
          „É¨„Éì„É•„Éº„ÇíË¶ã„Çã„ÉªË©≥Á¥∞„Å∏
        </button>
      <% end %>
    </div>

  </div>
</div>